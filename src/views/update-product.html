<!-- A sample form just to update any one single product 
_id : 5fd256e77ce85916e9d69189

change the id in the form action and in the javascript below
-->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous" />

        <title>Update A Product</title>
    </head>
    <body class = "container">
        <h1 class="display-2">Update  Product</h1>
        <div class="row">
            
            <form class="col" method="POST" action="/api/product/update/5fd256e77ce85916e9d69189" enctype="multipart/form-data">
             
                <div class="mb-3">
                    <label for="productTitle" class="form-label">Product Title</label>
                    <input type="text" class="form-control" id="productTitle" name="productTitle" aria-describedby="emailHelp" />
                    <div id="emailHelp" class="form-text">100 -150 words</div>
                </div>
                <div class="mb-3">
                    <label for="category" class ="form-label">Product category</label>
                    <select class="form-select" name="category" id="category" aria-label="Default select example">
                        <option selected>Open this select menu</option>
                        <option value="wallets">Wallets</option>
                        <option value="apparel">Apparel</option>
                        <option value="electronics">Electronics</option>
                      </select>
                </div>
                <div class="mb-3">
                    <label for="mrp" class="form-label">MRP</label>
                    <input type="number" class="form-control" id="mrp" name="mrp" aria-describedby="mrp" />
                </div>

                <div class="mb-3">
                    <label for="price" class="form-label">Price</label>
                    <input type="number" class="form-control" id="price" name="price" aria-describedby="price" />
                </div>

                <div class="mb-3">
                    <label for="" class="form-label">Attributes</label>
                    <input type="text" placeholder="KEY1" class="form-control" id="attr-1" name="attr" aria-describedby="attr" />
                    <input type="text" placeholder="VALUE1" class="form-control" id="val-1" name="val" aria-describedby="val" />
                    <br>
                    <input type="text" placeholder="KEY2" class="form-control" id="attr-2" name="attr" aria-describedby="attr" />
                    <input type="text" placeholder="VALUE2" class="form-control" id="val-2" name="val" aria-describedby="val" />

                </div>
                <div class="mb-3">
                    <label for="description" class="form-label">Description</label>
                    <textarea name="description" id="description" cols="30" rows="10" class="form-control"></textarea>
                </div>

            </div>
            <div class="mb-3">
                <label for="image" class="form-label">Product Images</label>
                <input type="file" name="image" id="image" class="form-control">
            </div>
                
            <div class="mb-3">
                <label for="bullets" class="form-label">Bullet Points</label>
                <textarea name="bullets" id="bullets-1" cols="30" rows="3" placeholder="BUllet Point 1" class="form-control"></textarea>
                <textarea name="bullets" id="bullets-2" cols="30" rows="3" placeholder="BUllet Point 2" class="form-control"></textarea>
            </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script>
            let _id = "5fd256e77ce85916e9d69189";
            (async ()=> {
                const res = await fetch("/api/product/"+_id);
                const json = await res.json();
                console.log(json);
                const product =  json[0];
                $("#productTitle").val(product.productTitle);
                $("#category").val(product.category);
                $("#mrp").val(product.mrp);
                $("#price").val(product.price)
                $("#attr-1").val(product.attributes[0]['key']);
                $("#attr-2").val(product.attributes[1]['key']);
                $("#val-1").val(product.attributes[0]['value']);
                $("#val-2").val(product.attributes[1]['value']);
                $("#description").val(product.description);
                $("#bullets-1").val(product.bullets[0]);
                $("#bullets-2").val(product.bullets[1]);
    
            })()


        </script>
    
    </body>
</html>
